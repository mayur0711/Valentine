<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Be My Valentine? ğŸ’•</title>
  <link rel="stylesheet" href="css/valentine.css" />
</head>

<body>
  <!-- Floating Hearts Background -->
  <div class="hearts-container">
    <div class="heart heart-1">ğŸ’•</div>
    <div class="heart heart-2">ğŸ’–</div>
    <div class="heart heart-3">ğŸ’—</div>
    <div class="heart heart-4">ğŸ’</div>
    <div class="heart heart-5">ğŸ’“</div>
    <div class="heart heart-6">ğŸ’•</div>
    <div class="heart heart-7">ğŸ’–</div>
    <div class="heart heart-8">ğŸ’—</div>
  </div>

  <div class="container">
    <div class="valentine-card">
      <div class="sparkles">âœ¨</div>

      <h1 class="main-question">
        Will You Be My Valentine? ğŸ’•
      </h1>

      <p class="subtitle">
        I promise to make it the best date ever! ğŸŒ¹
      </p>

      <img src="please.png" alt="Please say yes!" class="cute-image" />

      <div class="button-container">
        <button class="answer-button yes-button" id="yesButton">
          <span class="button-emoji">ğŸ’–</span>
          <span class="button-text">Yes! Absolutely! ğŸ˜Š</span>
        </button>

        <button class="answer-button no-button" id="noButton">
          <span class="button-emoji">ğŸ˜¢</span>
          <span class="button-text">No, I dont o(â•¥ï¹â•¥)o</span>
        </button>
      </div>

      <div class="hint-message">
        <span class="hint-icon">ğŸ’¡</span>
        <span class="hint-text">Hint: The "Yes" button is the right choice! ğŸ˜‰</span>
      </div>
    </div>
  </div>

  <script>
    const noButton = document.getElementById("noButton");
    const yesButton = document.getElementById("yesButton");

    let clickCount = 0;
    const funnyMessages = [
      "No I dont o(â•¥ï¹â•¥)o",
      "Are you sure? ğŸ¥º",
      "Really? Think again! ğŸ’”",
      "The Yes button looks lonely! ğŸ˜¢",
      "Come on, just say yes! ğŸ™",
      "You're breaking my heart! ğŸ’”",
      "Pretty please? ğŸ¥ºğŸ‘‰ğŸ‘ˆ",
      "I'll buy you food! ğŸ•",
      "Okay fine, I'll cry! ğŸ˜­",
      "Last chance! ğŸ’•"
    ];

    yesButton.addEventListener("click", function () {
      location.href = 'thankyou.html';
    });

    noButton.addEventListener("click", function () {
      // Increase Yes button size
      var currentFontSize = parseInt(
        window.getComputedStyle(yesButton).fontSize
      );
      yesButton.style.fontSize = currentFontSize + 10 + "px";
      yesButton.style.padding = (parseInt(yesButton.style.padding) || 15) + 5 + "px";

      // Change No button text
      if (clickCount < funnyMessages.length) {
        noButton.querySelector('.button-text').textContent = funnyMessages[clickCount];
        clickCount++;
      }

      // Add shake animation to the card
      document.querySelector('.valentine-card').classList.add('shake');
      setTimeout(() => {
        document.querySelector('.valentine-card').classList.remove('shake');
      }, 500);
    });

    // Magic Link Personalization
    window.addEventListener('DOMContentLoaded', () => {
      const urlParams = new URLSearchParams(window.location.search);
      const toName = urlParams.get('to');

      if (toName) {
        // Save to localStorage for later steps
        localStorage.setItem('valentine_user_name', toName);

        // Update Heading
        const heading = document.querySelector('.main-question');
        heading.innerHTML = `Will You Be My Valentine, <span class="highlight-name">${toName}</span>? ğŸ’•`;
      } else {
        // Clear if no name provided to avoid using previous person's name
        localStorage.removeItem('valentine_user_name');
      }
    });
  </script>
</body>

</html>